# WalkSense Configuration File
# Edit this file to change models, backends, and system parameters

#==============================================================================
# VISION MODEL CONFIGURATION (VLM) - For scene understanding
#==============================================================================
vision_model:
  backend: "ollama"                    # Options: "ollama", "lm_studio", "huggingface"
  model_name: "qwen3-vl:2b"           # Model identifier
  
  # Backend-specific URLs
  ollama_url: "http://localhost:11434"
  lm_studio_url: "http://localhost:1234/v1"
  
  # HuggingFace settings (if backend is "huggingface")
  huggingface:
    model_id: "Qwen/Qwen2-VL-2B-Instruct"
    device: "cuda"                     # "cuda" or "cpu"
    torch_dtype: "float16"             # "float16" or "float32"

#==============================================================================
# TEXT MODEL CONFIGURATION (LLM) - For query answering
#==============================================================================
text_model:
  backend: "ollama"                    # Options: "ollama", "lm_studio"
  model_name: "gemma3:270m"           # Model identifier
  
  # Backend-specific URLs
  ollama_url: "http://localhost:11434"
  lm_studio_url: "http://localhost:1234/v1"
  
  # LLM parameters
  temperature: 0.7                     # Randomness (0.0 = deterministic, 1.0 = creative)
  max_tokens: 100                      # Maximum response length

#==============================================================================
# OBJECT DETECTION CONFIGURATION (YOLO)
#==============================================================================
object_detection:
  model_path: "models/yolo/yolov8n.pt"
  confidence_threshold: 0.5
  device: "cpu"                        # "cuda" or "cpu"

#==============================================================================
# SPATIAL TRACKING CONFIGURATION
#==============================================================================
spatial_tracking:
  movement_threshold: 30.0             # Pixels - minimum movement to announce
  time_threshold: 10.0                 # Seconds - cooldown between announcements
  max_history: 20                      # Number of spatial events to remember
  
  # IoU Tracker settings
  iou_threshold: 0.3                   # Minimum IoU for track matching
  max_age: 30                          # Frames - drop track if not seen

#==============================================================================
# FRAME PROCESSING CONFIGURATION
#==============================================================================
frame_processing:
  camera_id: 0                         # Camera device ID (0 = default)
  resolution:
    width: 1280
    height: 720
  
  # VLM sampling
  sample_every_n_frames: 150           # Process VLM every N frames
  scene_change_threshold: 0.15         # 0.0-1.0 - Lower = more sensitive

#==============================================================================
# AUDIO CONFIGURATION
#==============================================================================
audio:
  tts_enabled: true
  tts_rate: 150                        # Words per minute
  
  stt_enabled: false                   # Enable speech-to-text
  stt_language: "en-US"
  stt_timeout: 5                       # Seconds to listen

#==============================================================================
# SAFETY RULES CONFIGURATION
#==============================================================================
safety:
  # Alert cooldown (prevent spam)
  alert_cooldown: 10.0                 # Seconds
  
  # Critical objects (immediate danger)
  critical_objects:
    - "fire"
    - "knife"
    - "gun"
  
  # Warning objects (caution needed)
  warning_objects:
    - "car"
    - "truck"
    - "bus"
    - "bicycle"
    - "person"

#==============================================================================
# SYSTEM BEHAVIOR
#==============================================================================
system:
  start_muted: false                   # Start with audio muted
  show_visualization: true             # Show camera window
  log_level: "INFO"                    # DEBUG, INFO, WARNING, ERROR
  
  # Performance
  async_vlm: true                      # Run VLM in separate thread
  vlm_timeout: 30                      # Seconds - VLM inference timeout
